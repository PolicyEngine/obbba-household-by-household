import"../chunks/CWj6FrbW.js";import{i as Ur}from"../chunks/BipqaGHw.js";import{o as Tn,a as Xr,e as Ye,s as Lt}from"../chunks/DJJb56M5.js";import{V as Yr,b as Kr,i as Se,h as Ct,Z as ce,d as sn,z as x,al as Kt,r as Wr,e as Vr,g as In,j as Ke,m as jt,X as or,a0 as Qr,k as lr,l as ur,p as Jr,ax as We,a4 as fr,P as an,ay as Zr,at as It,az as Cn,aA as jr,aB as ti,a3 as ei,aC as ni,aD as ri,aE as ii,aF as si,Y as cr,T as ai,G as Wt,aG as oi,a1 as li,$ as ui,a6 as Rn,aH as fi,aI as ci,aJ as hi,aK as di,aL as pi,D as gi,aM as be,aN as mi,F as Ht,a as kt,I as vi,an as At,aO as Ve,aP as _i,J as rt,L as bt,K as et,u as yt,c as Qe,f as Je,av as yi,A as Jt,aQ as xi,aw as wi}from"../chunks/hF6vYYgm.js";import{i as Yt,b as Ze}from"../chunks/D7N969Ix.js";function $n(t,e){return e}function bi(t,e,n,r){for(var i=[],s=e.length,a=0;a<s;a++)ti(e[a].e,i,!0);var l=s>0&&i.length===0&&n!==null;if(l){var u=n.parentNode;ei(u),u.append(n),r.clear(),Vt(t,e[0].prev,e[s-1].next)}ni(i,()=>{for(var o=0;o<s;o++){var f=e[o];l||(r.delete(f.k),Vt(t,f.prev,f.next)),ri(f.e,!l)}})}function Dn(t,e,n,r,i,s=null){var a=t,l={flags:e,items:new Map,first:null};{var u=t;a=Ct?Se(ce(u)):u.appendChild(Yr())}Ct&&sn();var o=null,f=!1,d=Kt(()=>{var p=n();return ai(p)?p:p==null?[]:fr(p)});Kr(()=>{var p=x(d),m=p.length;if(f&&m===0)return;f=m===0;let M=!1;if(Ct){var Y=Wr(a)===Vr;Y!==(m===0)&&(a=In(),Se(a),Ke(!1),M=!0)}if(Ct){for(var W=null,F,H=0;H<m;H++){if(jt.nodeType===or&&jt.data===Qr){a=jt,M=!0,Ke(!1);break}var Z=p[H],K=r(Z,H);F=hr(jt,l,W,null,Z,K,H,i,e,n),l.items.set(K,F),W=F}m>0&&Se(In())}Ct||ki(p,l,a,i,e,r,n),s!==null&&(m===0?o?lr(o):o=ur(()=>s(a)):o!==null&&Jr(o,()=>{o=null})),M&&Ke(!0),x(d)}),Ct&&(a=jt)}function ki(t,e,n,r,i,s,a){var l=t.length,u=e.items,o=e.first,f=o,d,p=null,m=[],M=[],Y,W,F,H;for(H=0;H<l;H+=1){if(Y=t[H],W=s(Y,H),F=u.get(W),F===void 0){var Z=f?f.e.nodes_start:n;p=hr(Z,e,p,p===null?e.first:p.next,Y,W,H,r,i,a),u.set(W,p),m=[],M=[],f=p.next;continue}if(Ai(F,Y,H),(F.e.f&We)!==0&&lr(F.e),F!==f){if(d!==void 0&&d.has(F)){if(m.length<M.length){var K=M[0],G;p=K.prev;var lt=m[0],L=m[m.length-1];for(G=0;G<m.length;G+=1)On(m[G],K,n);for(G=0;G<M.length;G+=1)d.delete(M[G]);Vt(e,lt.prev,L.next),Vt(e,p,lt),Vt(e,L,K),f=K,p=L,H-=1,m=[],M=[]}else d.delete(F),On(F,f,n),Vt(e,F.prev,F.next),Vt(e,F,p===null?e.first:p.next),Vt(e,p,F),p=F;continue}for(m=[],M=[];f!==null&&f.k!==W;)(f.e.f&We)===0&&(d??(d=new Set)).add(f),M.push(f),f=f.next;if(f===null)continue;F=f}m.push(F),p=F,f=F.next}if(f!==null||d!==void 0){for(var c=d===void 0?[]:fr(d);f!==null;)(f.e.f&We)===0&&c.push(f),f=f.next;var h=c.length;if(h>0){var _=l===0?n:null;bi(e,c,_,u)}}an.first=e.first&&e.first.e,an.last=p&&p.e}function Ai(t,e,n,r){Zr(t.v,e),t.i=n}function hr(t,e,n,r,i,s,a,l,u,o){var f=(u&ii)!==0,d=(u&si)===0,p=f?d?It(i,!1,!1):Cn(i):i,m=(u&jr)===0?a:Cn(a),M={i:m,v:p,k:s,a:null,e:null,prev:n,next:r};try{return M.e=ur(()=>l(t,p,m,o),Ct),M.e.prev=n&&n.e,M.e.next=r&&r.e,n===null?e.first=M:(n.next=M,n.e.next=M.e),r!==null&&(r.prev=M,r.e.prev=M.e),M}finally{}}function On(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,i=e?e.e.nodes_start:n,s=t.e.nodes_start;s!==r;){var a=cr(s);i.before(s),s=a}}function Vt(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function Ei(t,e,n=!1,r=!1,i=!1){var s=t,a="";Wt(()=>{var l=an;if(a===(a=e()??"")){Ct&&sn();return}if(l.nodes_start!==null&&(oi(l.nodes_start,l.nodes_end),l.nodes_start=l.nodes_end=null),a!==""){if(Ct){jt.data;for(var u=sn(),o=u;u!==null&&(u.nodeType!==or||u.data!=="");)o=u,u=cr(u);if(u===null)throw li(),ui;Rn(jt,o),s=Se(u);return}var f=a+"";n?f=`<svg>${f}</svg>`:r&&(f=`<math>${f}</math>`);var d=fi(f);if((n||r)&&(d=ce(d)),Rn(ce(d),d.lastChild),n||r)for(;ce(d);)s.before(ce(d));else s.before(d)}})}const zn=[...` 	
\r\fÂ \v\uFEFF`];function Mi(t,e,n){var r=t==null?"":""+t;if(e&&(r=r?r+" "+e:e),n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var s=i.length,a=0;(a=r.indexOf(i,a))>=0;){var l=a+s;(a===0||zn.includes(r[a-1]))&&(l===r.length||zn.includes(r[l]))?r=(a===0?"":r.substring(0,a))+r.substring(l+1):a=l}}return r===""?null:r}function je(t,e,n,r,i,s){var a=t.__className;if(Ct||a!==n||a===void 0){var l=Mi(n,r,s);(!Ct||l!==t.getAttribute("class"))&&(l==null?t.removeAttribute("class"):t.className=l),t.__className=n}else if(s&&i!==s)for(var u in s){var o=!!s[u];(i==null||o!==!!i[u])&&t.classList.toggle(u,o)}return s}const Si=Symbol("is custom element"),Ni=Symbol("is html");function Zt(t,e,n,r){var i=Ti(t);Ct&&(i[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||i[e]!==(i[e]=n)&&(e==="loading"&&(t[pi]=n),n==null?t.removeAttribute(e):typeof n!="string"&&Ii(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function Ti(t){return t.__attributes??(t.__attributes={[Si]:t.nodeName.includes("-"),[Ni]:t.namespaceURI===ci})}var Fn=new Map;function Ii(t){var e=Fn.get(t.nodeName);if(e)return e;Fn.set(t.nodeName,e=[]);for(var n,r=t,i=Element.prototype;i!==r;){n=di(r);for(var s in n)n[s].set&&e.push(s);r=hi(r)}return e}function Ci(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ne={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var Ri=Ne.exports,Ln;function $i(){return Ln||(Ln=1,function(t,e){((n,r)=>{t.exports=r()})(Ri,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,s=!r.document&&!!r.postMessage,a=r.IS_PAPA_WORKER||!1,l={},u=0,o={};function f(c){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(h){var _=G(h);_.chunkSize=parseInt(_.chunkSize),h.step||h.chunk||(_.chunkSize=null),this._handle=new Y(_),(this._handle.streamer=this)._config=_}).call(this,c),this.parseChunk=function(h,_){var w=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<w){let $=this._config.newline;$||(k=this._config.quoteChar||'"',$=this._handle.guessLineEndings(h,k)),h=[...h.split($).slice(w)].join($)}this.isFirstChunk&&L(this._config.beforeFirstChunk)&&(k=this._config.beforeFirstChunk(h))!==void 0&&(h=k),this.isFirstChunk=!1,this._halted=!1;var w=this._partialLine+h,k=(this._partialLine="",this._handle.parse(w,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(h=k.meta.cursor,w=(this._finished||(this._partialLine=w.substring(h-this._baseIndex),this._baseIndex=h),k&&k.data&&(this._rowCount+=k.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),a)r.postMessage({results:k,workerId:o.WORKER_ID,finished:w});else if(L(this._config.chunk)&&!_){if(this._config.chunk(k,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=k=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(k.data),this._completeResults.errors=this._completeResults.errors.concat(k.errors),this._completeResults.meta=k.meta),this._completed||!w||!L(this._config.complete)||k&&k.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),w||k&&k.meta.paused||this._nextChunk(),k}this._halted=!0},this._sendError=function(h){L(this._config.error)?this._config.error(h):a&&this._config.error&&r.postMessage({workerId:o.WORKER_ID,error:h,finished:!1})}}function d(c){var h;(c=c||{}).chunkSize||(c.chunkSize=o.RemoteChunkSize),f.call(this,c),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(_){this._input=_,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(h=new XMLHttpRequest,this._config.withCredentials&&(h.withCredentials=this._config.withCredentials),s||(h.onload=lt(this._chunkLoaded,this),h.onerror=lt(this._chunkError,this)),h.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var _,w=this._config.downloadRequestHeaders;for(_ in w)h.setRequestHeader(_,w[_])}var k;this._config.chunkSize&&(k=this._start+this._config.chunkSize-1,h.setRequestHeader("Range","bytes="+this._start+"-"+k));try{h.send(this._config.downloadRequestBody)}catch($){this._chunkError($.message)}s&&h.status===0&&this._chunkError()}},this._chunkLoaded=function(){h.readyState===4&&(h.status<200||400<=h.status?this._chunkError():(this._start+=this._config.chunkSize||h.responseText.length,this._finished=!this._config.chunkSize||this._start>=(_=>(_=_.getResponseHeader("Content-Range"))!==null?parseInt(_.substring(_.lastIndexOf("/")+1)):-1)(h),this.parseChunk(h.responseText)))},this._chunkError=function(_){_=h.statusText||_,this._sendError(new Error(_))}}function p(c){(c=c||{}).chunkSize||(c.chunkSize=o.LocalChunkSize),f.call(this,c);var h,_,w=typeof FileReader<"u";this.stream=function(k){this._input=k,_=k.slice||k.webkitSlice||k.mozSlice,w?((h=new FileReader).onload=lt(this._chunkLoaded,this),h.onerror=lt(this._chunkError,this)):h=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var k=this._input,$=(this._config.chunkSize&&($=Math.min(this._start+this._config.chunkSize,this._input.size),k=_.call(k,this._start,$)),h.readAsText(k,this._config.encoding));w||this._chunkLoaded({target:{result:$}})},this._chunkLoaded=function(k){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(k.target.result)},this._chunkError=function(){this._sendError(h.error)}}function m(c){var h;f.call(this,c=c||{}),this.stream=function(_){return h=_,this._nextChunk()},this._nextChunk=function(){var _,w;if(!this._finished)return _=this._config.chunkSize,h=_?(w=h.substring(0,_),h.substring(_)):(w=h,""),this._finished=!h,this.parseChunk(w)}}function M(c){f.call(this,c=c||{});var h=[],_=!0,w=!1;this.pause=function(){f.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){f.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(k){this._input=k,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){w&&h.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),h.length?this.parseChunk(h.shift()):_=!0},this._streamData=lt(function(k){try{h.push(typeof k=="string"?k:k.toString(this._config.encoding)),_&&(_=!1,this._checkIsFinished(),this.parseChunk(h.shift()))}catch($){this._streamError($)}},this),this._streamError=lt(function(k){this._streamCleanUp(),this._sendError(k)},this),this._streamEnd=lt(function(){this._streamCleanUp(),w=!0,this._streamData("")},this),this._streamCleanUp=lt(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function Y(c){var h,_,w,k,$=Math.pow(2,53),tt=-$,_t=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ft=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,P=this,j=0,C=0,ct=!1,q=!1,U=[],R={data:[],errors:[],meta:{}};function ht(y){return c.skipEmptyLines==="greedy"?y.join("").trim()==="":y.length===1&&y[0].length===0}function ut(){if(R&&w&&(g("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+o.DefaultDelimiter+"'"),w=!1),c.skipEmptyLines&&(R.data=R.data.filter(function(v){return!ht(v)})),gt()){let v=function(T,z){L(c.transformHeader)&&(T=c.transformHeader(T,z)),U.push(T)};if(R)if(Array.isArray(R.data[0])){for(var y=0;gt()&&y<R.data.length;y++)R.data[y].forEach(v);R.data.splice(0,1)}else R.data.forEach(v)}function A(v,T){for(var z=c.header?{}:[],I=0;I<v.length;I++){var S=I,E=v[I],E=((D,N)=>(O=>(c.dynamicTypingFunction&&c.dynamicTyping[O]===void 0&&(c.dynamicTyping[O]=c.dynamicTypingFunction(O)),(c.dynamicTyping[O]||c.dynamicTyping)===!0))(D)?N==="true"||N==="TRUE"||N!=="false"&&N!=="FALSE"&&((O=>{if(_t.test(O)&&(O=parseFloat(O),tt<O&&O<$))return 1})(N)?parseFloat(N):ft.test(N)?new Date(N):N===""?null:N):N)(S=c.header?I>=U.length?"__parsed_extra":U[I]:S,E=c.transform?c.transform(E,S):E);S==="__parsed_extra"?(z[S]=z[S]||[],z[S].push(E)):z[S]=E}return c.header&&(I>U.length?g("FieldMismatch","TooManyFields","Too many fields: expected "+U.length+" fields but parsed "+I,C+T):I<U.length&&g("FieldMismatch","TooFewFields","Too few fields: expected "+U.length+" fields but parsed "+I,C+T)),z}var b;R&&(c.header||c.dynamicTyping||c.transform)&&(b=1,!R.data.length||Array.isArray(R.data[0])?(R.data=R.data.map(A),b=R.data.length):R.data=A(R.data,0),c.header&&R.meta&&(R.meta.fields=U),C+=b)}function gt(){return c.header&&U.length===0}function g(y,A,b,v){y={type:y,code:A,message:b},v!==void 0&&(y.row=v),R.errors.push(y)}L(c.step)&&(k=c.step,c.step=function(y){R=y,gt()?ut():(ut(),R.data.length!==0&&(j+=y.data.length,c.preview&&j>c.preview?_.abort():(R.data=R.data[0],k(R,P))))}),this.parse=function(y,A,b){var v=c.quoteChar||'"',v=(c.newline||(c.newline=this.guessLineEndings(y,v)),w=!1,c.delimiter?L(c.delimiter)&&(c.delimiter=c.delimiter(y),R.meta.delimiter=c.delimiter):((v=((T,z,I,S,E)=>{var D,N,O,X;E=E||[",","	","|",";",o.RECORD_SEP,o.UNIT_SEP];for(var dt=0;dt<E.length;dt++){for(var V,xt=E[dt],it=0,ot=0,Q=0,st=(O=void 0,new F({comments:S,delimiter:xt,newline:z,preview:10}).parse(T)),mt=0;mt<st.data.length;mt++)I&&ht(st.data[mt])?Q++:(V=st.data[mt].length,ot+=V,O===void 0?O=V:0<V&&(it+=Math.abs(V-O),O=V));0<st.data.length&&(ot/=st.data.length-Q),(N===void 0||it<=N)&&(X===void 0||X<ot)&&1.99<ot&&(N=it,D=xt,X=ot)}return{successful:!!(c.delimiter=D),bestDelimiter:D}})(y,c.newline,c.skipEmptyLines,c.comments,c.delimitersToGuess)).successful?c.delimiter=v.bestDelimiter:(w=!0,c.delimiter=o.DefaultDelimiter),R.meta.delimiter=c.delimiter),G(c));return c.preview&&c.header&&v.preview++,h=y,_=new F(v),R=_.parse(h,A,b),ut(),ct?{meta:{paused:!0}}:R||{meta:{paused:!1}}},this.paused=function(){return ct},this.pause=function(){ct=!0,_.abort(),h=L(c.chunk)?"":h.substring(_.getCharIndex())},this.resume=function(){P.streamer._halted?(ct=!1,P.streamer.parseChunk(h,!0)):setTimeout(P.resume,3)},this.aborted=function(){return q},this.abort=function(){q=!0,_.abort(),R.meta.aborted=!0,L(c.complete)&&c.complete(R),h=""},this.guessLineEndings=function(T,v){T=T.substring(0,1048576);var v=new RegExp(W(v)+"([^]*?)"+W(v),"gm"),b=(T=T.replace(v,"")).split("\r"),v=T.split(`
`),T=1<v.length&&v[0].length<b[0].length;if(b.length===1||T)return`
`;for(var z=0,I=0;I<b.length;I++)b[I][0]===`
`&&z++;return z>=b.length/2?`\r
`:"\r"}}function W(c){return c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function F(c){var h=(c=c||{}).delimiter,_=c.newline,w=c.comments,k=c.step,$=c.preview,tt=c.fastMode,_t=null,ft=!1,P=c.quoteChar==null?'"':c.quoteChar,j=P;if(c.escapeChar!==void 0&&(j=c.escapeChar),(typeof h!="string"||-1<o.BAD_DELIMITERS.indexOf(h))&&(h=","),w===h)throw new Error("Comment character same as delimiter");w===!0?w="#":(typeof w!="string"||-1<o.BAD_DELIMITERS.indexOf(w))&&(w=!1),_!==`
`&&_!=="\r"&&_!==`\r
`&&(_=`
`);var C=0,ct=!1;this.parse=function(q,U,R){if(typeof q!="string")throw new Error("Input must be a string");var ht=q.length,ut=h.length,gt=_.length,g=w.length,y=L(k),A=[],b=[],v=[],T=C=0;if(!q)return it();if(tt||tt!==!1&&q.indexOf(P)===-1){for(var z=q.split(_),I=0;I<z.length;I++){if(v=z[I],C+=v.length,I!==z.length-1)C+=_.length;else if(R)return it();if(!w||v.substring(0,g)!==w){if(y){if(A=[],X(v.split(h)),ot(),ct)return it()}else X(v.split(h));if($&&$<=I)return A=A.slice(0,$),it(!0)}}return it()}for(var S=q.indexOf(h,C),E=q.indexOf(_,C),D=new RegExp(W(j)+W(P),"g"),N=q.indexOf(P,C);;)if(q[C]===P)for(N=C,C++;;){if((N=q.indexOf(P,N+1))===-1)return R||b.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:A.length,index:C}),V();if(N===ht-1)return V(q.substring(C,N).replace(D,P));if(P===j&&q[N+1]===j)N++;else if(P===j||N===0||q[N-1]!==j){S!==-1&&S<N+1&&(S=q.indexOf(h,N+1));var O=dt((E=E!==-1&&E<N+1?q.indexOf(_,N+1):E)===-1?S:Math.min(S,E));if(q.substr(N+1+O,ut)===h){v.push(q.substring(C,N).replace(D,P)),q[C=N+1+O+ut]!==P&&(N=q.indexOf(P,C)),S=q.indexOf(h,C),E=q.indexOf(_,C);break}if(O=dt(E),q.substring(N+1+O,N+1+O+gt)===_){if(v.push(q.substring(C,N).replace(D,P)),xt(N+1+O+gt),S=q.indexOf(h,C),N=q.indexOf(P,C),y&&(ot(),ct))return it();if($&&A.length>=$)return it(!0);break}b.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:A.length,index:C}),N++}}else if(w&&v.length===0&&q.substring(C,C+g)===w){if(E===-1)return it();C=E+gt,E=q.indexOf(_,C),S=q.indexOf(h,C)}else if(S!==-1&&(S<E||E===-1))v.push(q.substring(C,S)),C=S+ut,S=q.indexOf(h,C);else{if(E===-1)break;if(v.push(q.substring(C,E)),xt(E+gt),y&&(ot(),ct))return it();if($&&A.length>=$)return it(!0)}return V();function X(Q){A.push(Q),T=C}function dt(Q){var st=0;return st=Q!==-1&&(Q=q.substring(N+1,Q))&&Q.trim()===""?Q.length:st}function V(Q){return R||(Q===void 0&&(Q=q.substring(C)),v.push(Q),C=ht,X(v),y&&ot()),it()}function xt(Q){C=Q,X(v),v=[],E=q.indexOf(_,C)}function it(Q){if(c.header&&!U&&A.length&&!ft){var st=A[0],mt=Object.create(null),Mt=new Set(st);let B=!1;for(let J=0;J<st.length;J++){let nt=st[J];if(mt[nt=L(c.transformHeader)?c.transformHeader(nt,J):nt]){let pt,at=mt[nt];for(;pt=nt+"_"+at,at++,Mt.has(pt););Mt.add(pt),st[J]=pt,mt[nt]++,B=!0,(_t=_t===null?{}:_t)[pt]=nt}else mt[nt]=1,st[J]=nt;Mt.add(nt)}B&&console.warn("Duplicate headers found and renamed."),ft=!0}return{data:A,errors:b,meta:{delimiter:h,linebreak:_,aborted:ct,truncated:!!Q,cursor:T+(U||0),renamedHeaders:_t}}}function ot(){k(it()),A=[],b=[]}},this.abort=function(){ct=!0},this.getCharIndex=function(){return C}}function H(c){var h=c.data,_=l[h.workerId],w=!1;if(h.error)_.userError(h.error,h.file);else if(h.results&&h.results.data){var k={abort:function(){w=!0,Z(h.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:K,resume:K};if(L(_.userStep)){for(var $=0;$<h.results.data.length&&(_.userStep({data:h.results.data[$],errors:h.results.errors,meta:h.results.meta},k),!w);$++);delete h.results}else L(_.userChunk)&&(_.userChunk(h.results,k,h.file),delete h.results)}h.finished&&!w&&Z(h.workerId,h.results)}function Z(c,h){var _=l[c];L(_.userComplete)&&_.userComplete(h),_.terminate(),delete l[c]}function K(){throw new Error("Not implemented.")}function G(c){if(typeof c!="object"||c===null)return c;var h,_=Array.isArray(c)?[]:{};for(h in c)_[h]=G(c[h]);return _}function lt(c,h){return function(){c.apply(h,arguments)}}function L(c){return typeof c=="function"}return o.parse=function(c,h){var _=(h=h||{}).dynamicTyping||!1;if(L(_)&&(h.dynamicTypingFunction=_,_={}),h.dynamicTyping=_,h.transform=!!L(h.transform)&&h.transform,!h.worker||!o.WORKERS_SUPPORTED)return _=null,o.NODE_STREAM_INPUT,typeof c=="string"?(c=(w=>w.charCodeAt(0)!==65279?w:w.slice(1))(c),_=new(h.download?d:m)(h)):c.readable===!0&&L(c.read)&&L(c.on)?_=new M(h):(r.File&&c instanceof File||c instanceof Object)&&(_=new p(h)),_.stream(c);(_=(()=>{var w;return!!o.WORKERS_SUPPORTED&&(w=(()=>{var k=r.URL||r.webkitURL||null,$=n.toString();return o.BLOB_URL||(o.BLOB_URL=k.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",$,")();"],{type:"text/javascript"})))})(),(w=new r.Worker(w)).onmessage=H,w.id=u++,l[w.id]=w)})()).userStep=h.step,_.userChunk=h.chunk,_.userComplete=h.complete,_.userError=h.error,h.step=L(h.step),h.chunk=L(h.chunk),h.complete=L(h.complete),h.error=L(h.error),delete h.worker,_.postMessage({input:c,config:h,workerId:_.id})},o.unparse=function(c,h){var _=!1,w=!0,k=",",$=`\r
`,tt='"',_t=tt+tt,ft=!1,P=null,j=!1,C=((()=>{if(typeof h=="object"){if(typeof h.delimiter!="string"||o.BAD_DELIMITERS.filter(function(U){return h.delimiter.indexOf(U)!==-1}).length||(k=h.delimiter),typeof h.quotes!="boolean"&&typeof h.quotes!="function"&&!Array.isArray(h.quotes)||(_=h.quotes),typeof h.skipEmptyLines!="boolean"&&typeof h.skipEmptyLines!="string"||(ft=h.skipEmptyLines),typeof h.newline=="string"&&($=h.newline),typeof h.quoteChar=="string"&&(tt=h.quoteChar),typeof h.header=="boolean"&&(w=h.header),Array.isArray(h.columns)){if(h.columns.length===0)throw new Error("Option columns is empty");P=h.columns}h.escapeChar!==void 0&&(_t=h.escapeChar+tt),h.escapeFormulae instanceof RegExp?j=h.escapeFormulae:typeof h.escapeFormulae=="boolean"&&h.escapeFormulae&&(j=/^[=+\-@\t\r].*$/)}})(),new RegExp(W(tt),"g"));if(typeof c=="string"&&(c=JSON.parse(c)),Array.isArray(c)){if(!c.length||Array.isArray(c[0]))return ct(null,c,ft);if(typeof c[0]=="object")return ct(P||Object.keys(c[0]),c,ft)}else if(typeof c=="object")return typeof c.data=="string"&&(c.data=JSON.parse(c.data)),Array.isArray(c.data)&&(c.fields||(c.fields=c.meta&&c.meta.fields||P),c.fields||(c.fields=Array.isArray(c.data[0])?c.fields:typeof c.data[0]=="object"?Object.keys(c.data[0]):[]),Array.isArray(c.data[0])||typeof c.data[0]=="object"||(c.data=[c.data])),ct(c.fields||[],c.data||[],ft);throw new Error("Unable to serialize unrecognized input");function ct(U,R,ht){var ut="",gt=(typeof U=="string"&&(U=JSON.parse(U)),typeof R=="string"&&(R=JSON.parse(R)),Array.isArray(U)&&0<U.length),g=!Array.isArray(R[0]);if(gt&&w){for(var y=0;y<U.length;y++)0<y&&(ut+=k),ut+=q(U[y],y);0<R.length&&(ut+=$)}for(var A=0;A<R.length;A++){var b=(gt?U:R[A]).length,v=!1,T=gt?Object.keys(R[A]).length===0:R[A].length===0;if(ht&&!gt&&(v=ht==="greedy"?R[A].join("").trim()==="":R[A].length===1&&R[A][0].length===0),ht==="greedy"&&gt){for(var z=[],I=0;I<b;I++){var S=g?U[I]:I;z.push(R[A][S])}v=z.join("").trim()===""}if(!v){for(var E=0;E<b;E++){0<E&&!T&&(ut+=k);var D=gt&&g?U[E]:E;ut+=q(R[A][D],E)}A<R.length-1&&(!ht||0<b&&!T)&&(ut+=$)}}return ut}function q(U,R){var ht,ut;return U==null?"":U.constructor===Date?JSON.stringify(U).slice(1,25):(ut=!1,j&&typeof U=="string"&&j.test(U)&&(U="'"+U,ut=!0),ht=U.toString().replace(C,_t),(ut=ut||_===!0||typeof _=="function"&&_(U,R)||Array.isArray(_)&&_[R]||((gt,g)=>{for(var y=0;y<g.length;y++)if(-1<gt.indexOf(g[y]))return!0;return!1})(ht,o.BAD_DELIMITERS)||-1<ht.indexOf(k)||ht.charAt(0)===" "||ht.charAt(ht.length-1)===" ")?tt+ht+tt:ht)}},o.RECORD_SEP="",o.UNIT_SEP="",o.BYTE_ORDER_MARK="\uFEFF",o.BAD_DELIMITERS=["\r",`
`,'"',o.BYTE_ORDER_MARK],o.WORKERS_SUPPORTED=!s&&!!r.Worker,o.NODE_STREAM_INPUT=1,o.LocalChunkSize=10485760,o.RemoteChunkSize=5242880,o.DefaultDelimiter=",",o.Parser=F,o.ParserHandle=Y,o.NetworkStreamer=d,o.FileStreamer=p,o.StringStreamer=m,o.ReadableStreamStreamer=M,r.jQuery&&((i=r.jQuery).fn.parse=function(c){var h=c.config||{},_=[];return this.each(function($){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var tt=0;tt<this.files.length;tt++)_.push({file:this.files[tt],inputElem:this,instanceConfig:i.extend({},h)})}),w(),this;function w(){if(_.length===0)L(c.complete)&&c.complete();else{var $,tt,_t,ft,P=_[0];if(L(c.before)){var j=c.before(P.file,P.inputElem);if(typeof j=="object"){if(j.action==="abort")return $="AbortError",tt=P.file,_t=P.inputElem,ft=j.reason,void(L(c.error)&&c.error({name:$},tt,_t,ft));if(j.action==="skip")return void k();typeof j.config=="object"&&(P.instanceConfig=i.extend(P.instanceConfig,j.config))}else if(j==="skip")return void k()}var C=P.instanceConfig.complete;P.instanceConfig.complete=function(ct){L(C)&&C(ct,P.file,P.inputElem),k()},o.parse(P.file,P.instanceConfig)}}function k(){_.splice(0,1),w()}}),a&&(r.onmessage=function(c){c=c.data,o.WORKER_ID===void 0&&c&&(o.WORKER_ID=c.workerId),typeof c.input=="string"?r.postMessage({workerId:o.WORKER_ID,results:o.parse(c.input,c.config),finished:!0}):(r.File&&c.input instanceof File||c.input instanceof Object)&&(c=o.parse(c.input,c.config))&&r.postMessage({workerId:o.WORKER_ID,results:c,finished:!0})}),(d.prototype=Object.create(f.prototype)).constructor=d,(p.prototype=Object.create(f.prototype)).constructor=p,(m.prototype=Object.create(m.prototype)).constructor=m,(M.prototype=Object.create(f.prototype)).constructor=M,o})}(Ne)),Ne.exports}var Di=$i();const Oi=Ci(Di);function Te(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function zi(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function dr(t){let e,n,r;t.length!==2?(e=Te,n=(l,u)=>Te(t(l),u),r=(l,u)=>t(l)-u):(e=t===Te||t===zi?t:Fi,n=t,r=t);function i(l,u,o=0,f=l.length){if(o<f){if(e(u,u)!==0)return f;do{const d=o+f>>>1;n(l[d],u)<0?o=d+1:f=d}while(o<f)}return o}function s(l,u,o=0,f=l.length){if(o<f){if(e(u,u)!==0)return f;do{const d=o+f>>>1;n(l[d],u)<=0?o=d+1:f=d}while(o<f)}return o}function a(l,u,o=0,f=l.length){const d=i(l,u,o,f-1);return d>o&&r(l[d-1],u)>-r(l[d],u)?d-1:d}return{left:i,center:a,right:s}}function Fi(){return 0}function Li(t){return t===null?NaN:+t}const Pi=dr(Te),Hi=Pi.right;dr(Li).center;const qi=Math.sqrt(50),Bi=Math.sqrt(10),Gi=Math.sqrt(2);function $e(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=qi?10:s>=Bi?5:s>=Gi?2:1;let l,u,o;return i<0?(o=Math.pow(10,-i)/a,l=Math.round(t*o),u=Math.round(e*o),l/o<t&&++l,u/o>e&&--u,o=-o):(o=Math.pow(10,i)*a,l=Math.round(t/o),u=Math.round(e/o),l*o<t&&++l,u*o>e&&--u),u<l&&.5<=n&&n<2?$e(t,e,n*2):[l,u,o]}function Ui(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?$e(e,t,n):$e(t,e,n);if(!(s>=i))return[];const l=s-i+1,u=new Array(l);if(r)if(a<0)for(let o=0;o<l;++o)u[o]=(s-o)/-a;else for(let o=0;o<l;++o)u[o]=(s-o)*a;else if(a<0)for(let o=0;o<l;++o)u[o]=(i+o)/-a;else for(let o=0;o<l;++o)u[o]=(i+o)*a;return u}function on(t,e,n){return e=+e,t=+t,n=+n,$e(t,e,n)[2]}function Xi(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?on(e,t,n):on(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Yi(t){return t}var tn=1,en=2,ln=3,he=4,Pn=1e-6;function Ki(t){return"translate("+t+",0)"}function Wi(t){return"translate(0,"+t+")"}function Vi(t){return e=>+t(e)}function Qi(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Ji(){return!this.__axis}function pr(t,e){var n=[],r=null,i=null,s=6,a=6,l=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,o=t===tn||t===he?-1:1,f=t===he||t===en?"x":"y",d=t===tn||t===ln?Ki:Wi;function p(m){var M=r??(e.ticks?e.ticks.apply(e,n):e.domain()),Y=i??(e.tickFormat?e.tickFormat.apply(e,n):Yi),W=Math.max(s,0)+l,F=e.range(),H=+F[0]+u,Z=+F[F.length-1]+u,K=(e.bandwidth?Qi:Vi)(e.copy(),u),G=m.selection?m.selection():m,lt=G.selectAll(".domain").data([null]),L=G.selectAll(".tick").data(M,e).order(),c=L.exit(),h=L.enter().append("g").attr("class","tick"),_=L.select("line"),w=L.select("text");lt=lt.merge(lt.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),L=L.merge(h),_=_.merge(h.append("line").attr("stroke","currentColor").attr(f+"2",o*s)),w=w.merge(h.append("text").attr("fill","currentColor").attr(f,o*W).attr("dy",t===tn?"0em":t===ln?"0.71em":"0.32em")),m!==G&&(lt=lt.transition(m),L=L.transition(m),_=_.transition(m),w=w.transition(m),c=c.transition(m).attr("opacity",Pn).attr("transform",function(k){return isFinite(k=K(k))?d(k+u):this.getAttribute("transform")}),h.attr("opacity",Pn).attr("transform",function(k){var $=this.parentNode.__axis;return d(($&&isFinite($=$(k))?$:K(k))+u)})),c.remove(),lt.attr("d",t===he||t===en?a?"M"+o*a+","+H+"H"+u+"V"+Z+"H"+o*a:"M"+u+","+H+"V"+Z:a?"M"+H+","+o*a+"V"+u+"H"+Z+"V"+o*a:"M"+H+","+u+"H"+Z),L.attr("opacity",1).attr("transform",function(k){return d(K(k)+u)}),_.attr(f+"2",o*s),w.attr(f,o*W).text(Y),G.filter(Ji).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===en?"start":t===he?"end":"middle"),G.each(function(){this.__axis=K})}return p.scale=function(m){return arguments.length?(e=m,p):e},p.ticks=function(){return n=Array.from(arguments),p},p.tickArguments=function(m){return arguments.length?(n=m==null?[]:Array.from(m),p):n.slice()},p.tickValues=function(m){return arguments.length?(r=m==null?null:Array.from(m),p):r&&r.slice()},p.tickFormat=function(m){return arguments.length?(i=m,p):i},p.tickSize=function(m){return arguments.length?(s=a=+m,p):s},p.tickSizeInner=function(m){return arguments.length?(s=+m,p):s},p.tickSizeOuter=function(m){return arguments.length?(a=+m,p):a},p.tickPadding=function(m){return arguments.length?(l=+m,p):l},p.offset=function(m){return arguments.length?(u=+m,p):u},p}function Zi(t){return pr(ln,t)}function ji(t){return pr(he,t)}var ts={value:()=>{}};function gr(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Ie(n)}function Ie(t){this._=t}function es(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Ie.prototype=gr.prototype={constructor:Ie,on:function(t,e){var n=this._,r=es(t+"",n),i,s=-1,a=r.length;if(arguments.length<2){for(;++s<a;)if((i=(t=r[s]).type)&&(i=ns(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<a;)if(i=(t=r[s]).type)n[i]=Hn(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Hn(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Ie(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function ns(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Hn(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=ts,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var un="http://www.w3.org/1999/xhtml";const qn={svg:"http://www.w3.org/2000/svg",xhtml:un,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ge(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),qn.hasOwnProperty(e)?{space:qn[e],local:t}:t}function rs(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===un&&e.documentElement.namespaceURI===un?e.createElement(t):e.createElementNS(n,t)}}function is(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function mr(t){var e=Ge(t);return(e.local?is:rs)(e)}function ss(){}function _n(t){return t==null?ss:function(){return this.querySelector(t)}}function as(t){typeof t!="function"&&(t=_n(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],a=s.length,l=r[i]=new Array(a),u,o,f=0;f<a;++f)(u=s[f])&&(o=t.call(u,u.__data__,f,s))&&("__data__"in u&&(o.__data__=u.__data__),l[f]=o);return new Tt(r,this._parents)}function os(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function ls(){return[]}function vr(t){return t==null?ls:function(){return this.querySelectorAll(t)}}function us(t){return function(){return os(t.apply(this,arguments))}}function fs(t){typeof t=="function"?t=us(t):t=vr(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var a=e[s],l=a.length,u,o=0;o<l;++o)(u=a[o])&&(r.push(t.call(u,u.__data__,o,a)),i.push(u));return new Tt(r,i)}function _r(t){return function(){return this.matches(t)}}function yr(t){return function(e){return e.matches(t)}}var cs=Array.prototype.find;function hs(t){return function(){return cs.call(this.children,t)}}function ds(){return this.firstElementChild}function ps(t){return this.select(t==null?ds:hs(typeof t=="function"?t:yr(t)))}var gs=Array.prototype.filter;function ms(){return Array.from(this.children)}function vs(t){return function(){return gs.call(this.children,t)}}function _s(t){return this.selectAll(t==null?ms:vs(typeof t=="function"?t:yr(t)))}function ys(t){typeof t!="function"&&(t=_r(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],a=s.length,l=r[i]=[],u,o=0;o<a;++o)(u=s[o])&&t.call(u,u.__data__,o,s)&&l.push(u);return new Tt(r,this._parents)}function xr(t){return new Array(t.length)}function xs(){return new Tt(this._enter||this._groups.map(xr),this._parents)}function De(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}De.prototype={constructor:De,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function ws(t){return function(){return t}}function bs(t,e,n,r,i,s){for(var a=0,l,u=e.length,o=s.length;a<o;++a)(l=e[a])?(l.__data__=s[a],r[a]=l):n[a]=new De(t,s[a]);for(;a<u;++a)(l=e[a])&&(i[a]=l)}function ks(t,e,n,r,i,s,a){var l,u,o=new Map,f=e.length,d=s.length,p=new Array(f),m;for(l=0;l<f;++l)(u=e[l])&&(p[l]=m=a.call(u,u.__data__,l,e)+"",o.has(m)?i[l]=u:o.set(m,u));for(l=0;l<d;++l)m=a.call(t,s[l],l,s)+"",(u=o.get(m))?(r[l]=u,u.__data__=s[l],o.delete(m)):n[l]=new De(t,s[l]);for(l=0;l<f;++l)(u=e[l])&&o.get(p[l])===u&&(i[l]=u)}function As(t){return t.__data__}function Es(t,e){if(!arguments.length)return Array.from(this,As);var n=e?ks:bs,r=this._parents,i=this._groups;typeof t!="function"&&(t=ws(t));for(var s=i.length,a=new Array(s),l=new Array(s),u=new Array(s),o=0;o<s;++o){var f=r[o],d=i[o],p=d.length,m=Ms(t.call(f,f&&f.__data__,o,r)),M=m.length,Y=l[o]=new Array(M),W=a[o]=new Array(M),F=u[o]=new Array(p);n(f,d,Y,W,F,m,e);for(var H=0,Z=0,K,G;H<M;++H)if(K=Y[H]){for(H>=Z&&(Z=H+1);!(G=W[Z])&&++Z<M;);K._next=G||null}}return a=new Tt(a,r),a._enter=l,a._exit=u,a}function Ms(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ss(){return new Tt(this._exit||this._groups.map(xr),this._parents)}function Ns(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function Ts(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,a=Math.min(i,s),l=new Array(i),u=0;u<a;++u)for(var o=n[u],f=r[u],d=o.length,p=l[u]=new Array(d),m,M=0;M<d;++M)(m=o[M]||f[M])&&(p[M]=m);for(;u<i;++u)l[u]=n[u];return new Tt(l,this._parents)}function Is(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],a;--i>=0;)(a=r[i])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function Cs(t){t||(t=Rs);function e(d,p){return d&&p?t(d.__data__,p.__data__):!d-!p}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var a=n[s],l=a.length,u=i[s]=new Array(l),o,f=0;f<l;++f)(o=a[f])&&(u[f]=o);u.sort(e)}return new Tt(i,this._parents).order()}function Rs(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function $s(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Ds(){return Array.from(this)}function Os(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var a=r[i];if(a)return a}return null}function zs(){let t=0;for(const e of this)++t;return t}function Fs(){return!this.node()}function Ls(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,a=i.length,l;s<a;++s)(l=i[s])&&t.call(l,l.__data__,s,i);return this}function Ps(t){return function(){this.removeAttribute(t)}}function Hs(t){return function(){this.removeAttributeNS(t.space,t.local)}}function qs(t,e){return function(){this.setAttribute(t,e)}}function Bs(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Gs(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Us(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Xs(t,e){var n=Ge(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Hs:Ps:typeof e=="function"?n.local?Us:Gs:n.local?Bs:qs)(n,e))}function wr(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ys(t){return function(){this.style.removeProperty(t)}}function Ks(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Ws(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Vs(t,e,n){return arguments.length>1?this.each((e==null?Ys:typeof e=="function"?Ws:Ks)(t,e,n??"")):oe(this.node(),t)}function oe(t,e){return t.style.getPropertyValue(e)||wr(t).getComputedStyle(t,null).getPropertyValue(e)}function Qs(t){return function(){delete this[t]}}function Js(t,e){return function(){this[t]=e}}function Zs(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function js(t,e){return arguments.length>1?this.each((e==null?Qs:typeof e=="function"?Zs:Js)(t,e)):this.node()[t]}function br(t){return t.trim().split(/^|\s+/)}function yn(t){return t.classList||new kr(t)}function kr(t){this._node=t,this._names=br(t.getAttribute("class")||"")}kr.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Ar(t,e){for(var n=yn(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Er(t,e){for(var n=yn(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function ta(t){return function(){Ar(this,t)}}function ea(t){return function(){Er(this,t)}}function na(t,e){return function(){(e.apply(this,arguments)?Ar:Er)(this,t)}}function ra(t,e){var n=br(t+"");if(arguments.length<2){for(var r=yn(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?na:e?ta:ea)(n,e))}function ia(){this.textContent=""}function sa(t){return function(){this.textContent=t}}function aa(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function oa(t){return arguments.length?this.each(t==null?ia:(typeof t=="function"?aa:sa)(t)):this.node().textContent}function la(){this.innerHTML=""}function ua(t){return function(){this.innerHTML=t}}function fa(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function ca(t){return arguments.length?this.each(t==null?la:(typeof t=="function"?fa:ua)(t)):this.node().innerHTML}function ha(){this.nextSibling&&this.parentNode.appendChild(this)}function da(){return this.each(ha)}function pa(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ga(){return this.each(pa)}function ma(t){var e=typeof t=="function"?t:mr(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function va(){return null}function _a(t,e){var n=typeof t=="function"?t:mr(t),r=e==null?va:typeof e=="function"?e:_n(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function ya(){var t=this.parentNode;t&&t.removeChild(this)}function xa(){return this.each(ya)}function wa(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ba(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ka(t){return this.select(t?ba:wa)}function Aa(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Ea(t){return function(e){t.call(this,e,this.__data__)}}function Ma(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Sa(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function Na(t,e,n){return function(){var r=this.__on,i,s=Ea(e);if(r){for(var a=0,l=r.length;a<l;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function Ta(t,e,n){var r=Ma(t+""),i,s=r.length,a;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,o=l.length,f;u<o;++u)for(i=0,f=l[u];i<s;++i)if((a=r[i]).type===f.type&&a.name===f.name)return f.value}return}for(l=e?Na:Sa,i=0;i<s;++i)this.each(l(r[i],e,n));return this}function Mr(t,e,n){var r=wr(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Ia(t,e){return function(){return Mr(this,t,e)}}function Ca(t,e){return function(){return Mr(this,t,e.apply(this,arguments))}}function Ra(t,e){return this.each((typeof e=="function"?Ca:Ia)(t,e))}function*$a(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,a;i<s;++i)(a=r[i])&&(yield a)}var Sr=[null];function Tt(t,e){this._groups=t,this._parents=e}function ye(){return new Tt([[document.documentElement]],Sr)}function Da(){return this}Tt.prototype=ye.prototype={constructor:Tt,select:as,selectAll:fs,selectChild:ps,selectChildren:_s,filter:ys,data:Es,enter:xs,exit:Ss,join:Ns,merge:Ts,selection:Da,order:Is,sort:Cs,call:$s,nodes:Ds,node:Os,size:zs,empty:Fs,each:Ls,attr:Xs,style:Vs,property:js,classed:ra,text:oa,html:ca,raise:da,lower:ga,append:ma,insert:_a,remove:xa,clone:ka,datum:Aa,on:Ta,dispatch:Ra,[Symbol.iterator]:$a};function Oa(t){return typeof t=="string"?new Tt([[document.querySelector(t)]],[document.documentElement]):new Tt([[t]],Sr)}function xn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Nr(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function xe(){}var me=.7,Oe=1/me,ae="\\s*([+-]?\\d+)\\s*",ve="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",za=/^#([0-9a-f]{3,8})$/,Fa=new RegExp(`^rgb\\(${ae},${ae},${ae}\\)$`),La=new RegExp(`^rgb\\(${Pt},${Pt},${Pt}\\)$`),Pa=new RegExp(`^rgba\\(${ae},${ae},${ae},${ve}\\)$`),Ha=new RegExp(`^rgba\\(${Pt},${Pt},${Pt},${ve}\\)$`),qa=new RegExp(`^hsl\\(${ve},${Pt},${Pt}\\)$`),Ba=new RegExp(`^hsla\\(${ve},${Pt},${Pt},${ve}\\)$`),Bn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xn(xe,re,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Gn,formatHex:Gn,formatHex8:Ga,formatHsl:Ua,formatRgb:Un,toString:Un});function Gn(){return this.rgb().formatHex()}function Ga(){return this.rgb().formatHex8()}function Ua(){return Tr(this).formatHsl()}function Un(){return this.rgb().formatRgb()}function re(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=za.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Xn(e):n===3?new Et(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ke(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ke(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Fa.exec(t))?new Et(e[1],e[2],e[3],1):(e=La.exec(t))?new Et(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Pa.exec(t))?ke(e[1],e[2],e[3],e[4]):(e=Ha.exec(t))?ke(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=qa.exec(t))?Wn(e[1],e[2]/100,e[3]/100,1):(e=Ba.exec(t))?Wn(e[1],e[2]/100,e[3]/100,e[4]):Bn.hasOwnProperty(t)?Xn(Bn[t]):t==="transparent"?new Et(NaN,NaN,NaN,0):null}function Xn(t){return new Et(t>>16&255,t>>8&255,t&255,1)}function ke(t,e,n,r){return r<=0&&(t=e=n=NaN),new Et(t,e,n,r)}function Xa(t){return t instanceof xe||(t=re(t)),t?(t=t.rgb(),new Et(t.r,t.g,t.b,t.opacity)):new Et}function fn(t,e,n,r){return arguments.length===1?Xa(t):new Et(t,e,n,r??1)}function Et(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}xn(Et,fn,Nr(xe,{brighter(t){return t=t==null?Oe:Math.pow(Oe,t),new Et(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?me:Math.pow(me,t),new Et(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Et(ne(this.r),ne(this.g),ne(this.b),ze(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Yn,formatHex:Yn,formatHex8:Ya,formatRgb:Kn,toString:Kn}));function Yn(){return`#${te(this.r)}${te(this.g)}${te(this.b)}`}function Ya(){return`#${te(this.r)}${te(this.g)}${te(this.b)}${te((isNaN(this.opacity)?1:this.opacity)*255)}`}function Kn(){const t=ze(this.opacity);return`${t===1?"rgb(":"rgba("}${ne(this.r)}, ${ne(this.g)}, ${ne(this.b)}${t===1?")":`, ${t})`}`}function ze(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ne(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function te(t){return t=ne(t),(t<16?"0":"")+t.toString(16)}function Wn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new $t(t,e,n,r)}function Tr(t){if(t instanceof $t)return new $t(t.h,t.s,t.l,t.opacity);if(t instanceof xe||(t=re(t)),!t)return new $t;if(t instanceof $t)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,l=s-i,u=(s+i)/2;return l?(e===s?a=(n-r)/l+(n<r)*6:n===s?a=(r-e)/l+2:a=(e-n)/l+4,l/=u<.5?s+i:2-s-i,a*=60):l=u>0&&u<1?0:a,new $t(a,l,u,t.opacity)}function Ka(t,e,n,r){return arguments.length===1?Tr(t):new $t(t,e,n,r??1)}function $t(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}xn($t,Ka,Nr(xe,{brighter(t){return t=t==null?Oe:Math.pow(Oe,t),new $t(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?me:Math.pow(me,t),new $t(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Et(nn(t>=240?t-240:t+120,i,r),nn(t,i,r),nn(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new $t(Vn(this.h),Ae(this.s),Ae(this.l),ze(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ze(this.opacity);return`${t===1?"hsl(":"hsla("}${Vn(this.h)}, ${Ae(this.s)*100}%, ${Ae(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Vn(t){return t=(t||0)%360,t<0?t+360:t}function Ae(t){return Math.max(0,Math.min(1,t||0))}function nn(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const wn=t=>()=>t;function Wa(t,e){return function(n){return t+n*e}}function Va(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Qa(t){return(t=+t)==1?Ir:function(e,n){return n-e?Va(e,n,t):wn(isNaN(e)?n:e)}}function Ir(t,e){var n=e-t;return n?Wa(t,n):wn(isNaN(t)?e:t)}const Fe=function t(e){var n=Qa(e);function r(i,s){var a=n((i=fn(i)).r,(s=fn(s)).r),l=n(i.g,s.g),u=n(i.b,s.b),o=Ir(i.opacity,s.opacity);return function(f){return i.r=a(f),i.g=l(f),i.b=u(f),i.opacity=o(f),i+""}}return r.gamma=t,r}(1);function Ja(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function Za(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ja(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=ee(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(l){for(a=0;a<r;++a)s[a]=i[a](l);return s}}function to(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Rt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function eo(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ee(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var cn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rn=new RegExp(cn.source,"g");function no(t){return function(){return t}}function ro(t){return function(e){return t(e)+""}}function Cr(t,e){var n=cn.lastIndex=rn.lastIndex=0,r,i,s,a=-1,l=[],u=[];for(t=t+"",e=e+"";(r=cn.exec(t))&&(i=rn.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[a]?l[a]+=s:l[++a]=s),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,u.push({i:a,x:Rt(r,i)})),n=rn.lastIndex;return n<e.length&&(s=e.slice(n),l[a]?l[a]+=s:l[++a]=s),l.length<2?u[0]?ro(u[0].x):no(e):(e=u.length,function(o){for(var f=0,d;f<e;++f)l[(d=u[f]).i]=d.x(o);return l.join("")})}function ee(t,e){var n=typeof e,r;return e==null||n==="boolean"?wn(e):(n==="number"?Rt:n==="string"?(r=re(e))?(e=r,Fe):Cr:e instanceof re?Fe:e instanceof Date?to:Za(e)?Ja:Array.isArray(e)?ja:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?eo:Rt)(t,e)}function io(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Qn=180/Math.PI,hn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Rr(t,e,n,r,i,s){var a,l,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,u/=l),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*Qn,skewX:Math.atan(u)*Qn,scaleX:a,scaleY:l}}var Ee;function so(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?hn:Rr(e.a,e.b,e.c,e.d,e.e,e.f)}function ao(t){return t==null||(Ee||(Ee=document.createElementNS("http://www.w3.org/2000/svg","g")),Ee.setAttribute("transform",t),!(t=Ee.transform.baseVal.consolidate()))?hn:(t=t.matrix,Rr(t.a,t.b,t.c,t.d,t.e,t.f))}function $r(t,e,n,r){function i(o){return o.length?o.pop()+" ":""}function s(o,f,d,p,m,M){if(o!==d||f!==p){var Y=m.push("translate(",null,e,null,n);M.push({i:Y-4,x:Rt(o,d)},{i:Y-2,x:Rt(f,p)})}else(d||p)&&m.push("translate("+d+e+p+n)}function a(o,f,d,p){o!==f?(o-f>180?f+=360:f-o>180&&(o+=360),p.push({i:d.push(i(d)+"rotate(",null,r)-2,x:Rt(o,f)})):f&&d.push(i(d)+"rotate("+f+r)}function l(o,f,d,p){o!==f?p.push({i:d.push(i(d)+"skewX(",null,r)-2,x:Rt(o,f)}):f&&d.push(i(d)+"skewX("+f+r)}function u(o,f,d,p,m,M){if(o!==d||f!==p){var Y=m.push(i(m)+"scale(",null,",",null,")");M.push({i:Y-4,x:Rt(o,d)},{i:Y-2,x:Rt(f,p)})}else(d!==1||p!==1)&&m.push(i(m)+"scale("+d+","+p+")")}return function(o,f){var d=[],p=[];return o=t(o),f=t(f),s(o.translateX,o.translateY,f.translateX,f.translateY,d,p),a(o.rotate,f.rotate,d,p),l(o.skewX,f.skewX,d,p),u(o.scaleX,o.scaleY,f.scaleX,f.scaleY,d,p),o=f=null,function(m){for(var M=-1,Y=p.length,W;++M<Y;)d[(W=p[M]).i]=W.x(m);return d.join("")}}}var oo=$r(so,"px, ","px)","deg)"),lo=$r(ao,", ",")",")"),le=0,de=0,fe=0,Dr=1e3,Le,pe,Pe=0,ie=0,Ue=0,_e=typeof performance=="object"&&performance.now?performance:Date,Or=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function bn(){return ie||(Or(uo),ie=_e.now()+Ue)}function uo(){ie=0}function He(){this._call=this._time=this._next=null}He.prototype=zr.prototype={constructor:He,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?bn():+n)+(e==null?0:+e),!this._next&&pe!==this&&(pe?pe._next=this:Le=this,pe=this),this._call=t,this._time=n,dn()},stop:function(){this._call&&(this._call=null,this._time=1/0,dn())}};function zr(t,e,n){var r=new He;return r.restart(t,e,n),r}function fo(){bn(),++le;for(var t=Le,e;t;)(e=ie-t._time)>=0&&t._call.call(void 0,e),t=t._next;--le}function Jn(){ie=(Pe=_e.now())+Ue,le=de=0;try{fo()}finally{le=0,ho(),ie=0}}function co(){var t=_e.now(),e=t-Pe;e>Dr&&(Ue-=e,Pe=t)}function ho(){for(var t,e=Le,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Le=n);pe=t,dn(r)}function dn(t){if(!le){de&&(de=clearTimeout(de));var e=t-ie;e>24?(t<1/0&&(de=setTimeout(Jn,t-_e.now()-Ue)),fe&&(fe=clearInterval(fe))):(fe||(Pe=_e.now(),fe=setInterval(co,Dr)),le=1,Or(Jn))}}function Zn(t,e,n){var r=new He;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var po=gr("start","end","cancel","interrupt"),go=[],Fr=0,jn=1,pn=2,Ce=3,tr=4,gn=5,Re=6;function Xe(t,e,n,r,i,s){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;mo(t,n,{name:e,index:r,group:i,on:po,tween:go,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Fr})}function kn(t,e){var n=Dt(t,e);if(n.state>Fr)throw new Error("too late; already scheduled");return n}function qt(t,e){var n=Dt(t,e);if(n.state>Ce)throw new Error("too late; already running");return n}function Dt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function mo(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=zr(s,0,n.time);function s(o){n.state=jn,n.timer.restart(a,n.delay,n.time),n.delay<=o&&a(o-n.delay)}function a(o){var f,d,p,m;if(n.state!==jn)return u();for(f in r)if(m=r[f],m.name===n.name){if(m.state===Ce)return Zn(a);m.state===tr?(m.state=Re,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete r[f]):+f<e&&(m.state=Re,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete r[f])}if(Zn(function(){n.state===Ce&&(n.state=tr,n.timer.restart(l,n.delay,n.time),l(o))}),n.state=pn,n.on.call("start",t,t.__data__,n.index,n.group),n.state===pn){for(n.state=Ce,i=new Array(p=n.tween.length),f=0,d=-1;f<p;++f)(m=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=m);i.length=d+1}}function l(o){for(var f=o<n.duration?n.ease.call(null,o/n.duration):(n.timer.restart(u),n.state=gn,1),d=-1,p=i.length;++d<p;)i[d].call(t,f);n.state===gn&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=Re,n.timer.stop(),delete r[e];for(var o in r)return;delete t.__transition}}function vo(t,e){var n=t.__transition,r,i,s=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){s=!1;continue}i=r.state>pn&&r.state<gn,r.state=Re,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}s&&delete t.__transition}}function _o(t){return this.each(function(){vo(this,t)})}function yo(t,e){var n,r;return function(){var i=qt(this,t),s=i.tween;if(s!==n){r=n=s;for(var a=0,l=r.length;a<l;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function xo(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=qt(this,t),a=s.tween;if(a!==r){i=(r=a).slice();for(var l={name:e,value:n},u=0,o=i.length;u<o;++u)if(i[u].name===e){i[u]=l;break}u===o&&i.push(l)}s.tween=i}}function wo(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Dt(this.node(),n).tween,i=0,s=r.length,a;i<s;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?yo:xo)(n,t,e))}function An(t,e,n){var r=t._id;return t.each(function(){var i=qt(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Dt(i,r).value[e]}}function Lr(t,e){var n;return(typeof e=="number"?Rt:e instanceof re?Fe:(n=re(e))?(e=n,Fe):Cr)(t,e)}function bo(t){return function(){this.removeAttribute(t)}}function ko(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ao(t,e,n){var r,i=n+"",s;return function(){var a=this.getAttribute(t);return a===i?null:a===r?s:s=e(r=a,n)}}function Eo(t,e,n){var r,i=n+"",s;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?s:s=e(r=a,n)}}function Mo(t,e,n){var r,i,s;return function(){var a,l=n(this),u;return l==null?void this.removeAttribute(t):(a=this.getAttribute(t),u=l+"",a===u?null:a===r&&u===i?s:(i=u,s=e(r=a,l)))}}function So(t,e,n){var r,i,s;return function(){var a,l=n(this),u;return l==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),u=l+"",a===u?null:a===r&&u===i?s:(i=u,s=e(r=a,l)))}}function No(t,e){var n=Ge(t),r=n==="transform"?lo:Lr;return this.attrTween(t,typeof e=="function"?(n.local?So:Mo)(n,r,An(this,"attr."+t,e)):e==null?(n.local?ko:bo)(n):(n.local?Eo:Ao)(n,r,e))}function To(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Io(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Co(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&Io(t,s)),n}return i._value=e,i}function Ro(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&To(t,s)),n}return i._value=e,i}function $o(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Ge(t);return this.tween(n,(r.local?Co:Ro)(r,e))}function Do(t,e){return function(){kn(this,t).delay=+e.apply(this,arguments)}}function Oo(t,e){return e=+e,function(){kn(this,t).delay=e}}function zo(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Do:Oo)(e,t)):Dt(this.node(),e).delay}function Fo(t,e){return function(){qt(this,t).duration=+e.apply(this,arguments)}}function Lo(t,e){return e=+e,function(){qt(this,t).duration=e}}function Po(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Fo:Lo)(e,t)):Dt(this.node(),e).duration}function Ho(t,e){if(typeof e!="function")throw new Error;return function(){qt(this,t).ease=e}}function qo(t){var e=this._id;return arguments.length?this.each(Ho(e,t)):Dt(this.node(),e).ease}function Bo(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;qt(this,t).ease=n}}function Go(t){if(typeof t!="function")throw new Error;return this.each(Bo(this._id,t))}function Uo(t){typeof t!="function"&&(t=_r(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],a=s.length,l=r[i]=[],u,o=0;o<a;++o)(u=s[o])&&t.call(u,u.__data__,o,s)&&l.push(u);return new Ut(r,this._parents,this._name,this._id)}function Xo(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),a=new Array(r),l=0;l<s;++l)for(var u=e[l],o=n[l],f=u.length,d=a[l]=new Array(f),p,m=0;m<f;++m)(p=u[m]||o[m])&&(d[m]=p);for(;l<r;++l)a[l]=e[l];return new Ut(a,this._parents,this._name,this._id)}function Yo(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Ko(t,e,n){var r,i,s=Yo(e)?kn:qt;return function(){var a=s(this,t),l=a.on;l!==r&&(i=(r=l).copy()).on(e,n),a.on=i}}function Wo(t,e){var n=this._id;return arguments.length<2?Dt(this.node(),n).on.on(t):this.each(Ko(n,t,e))}function Vo(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Qo(){return this.on("end.remove",Vo(this._id))}function Jo(t){var e=this._name,n=this._id;typeof t!="function"&&(t=_n(t));for(var r=this._groups,i=r.length,s=new Array(i),a=0;a<i;++a)for(var l=r[a],u=l.length,o=s[a]=new Array(u),f,d,p=0;p<u;++p)(f=l[p])&&(d=t.call(f,f.__data__,p,l))&&("__data__"in f&&(d.__data__=f.__data__),o[p]=d,Xe(o[p],e,n,p,o,Dt(f,n)));return new Ut(s,this._parents,e,n)}function Zo(t){var e=this._name,n=this._id;typeof t!="function"&&(t=vr(t));for(var r=this._groups,i=r.length,s=[],a=[],l=0;l<i;++l)for(var u=r[l],o=u.length,f,d=0;d<o;++d)if(f=u[d]){for(var p=t.call(f,f.__data__,d,u),m,M=Dt(f,n),Y=0,W=p.length;Y<W;++Y)(m=p[Y])&&Xe(m,e,n,Y,p,M);s.push(p),a.push(f)}return new Ut(s,a,e,n)}var jo=ye.prototype.constructor;function tl(){return new jo(this._groups,this._parents)}function el(t,e){var n,r,i;return function(){var s=oe(this,t),a=(this.style.removeProperty(t),oe(this,t));return s===a?null:s===n&&a===r?i:i=e(n=s,r=a)}}function Pr(t){return function(){this.style.removeProperty(t)}}function nl(t,e,n){var r,i=n+"",s;return function(){var a=oe(this,t);return a===i?null:a===r?s:s=e(r=a,n)}}function rl(t,e,n){var r,i,s;return function(){var a=oe(this,t),l=n(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(t),oe(this,t))),a===u?null:a===r&&u===i?s:(i=u,s=e(r=a,l))}}function il(t,e){var n,r,i,s="style."+e,a="end."+s,l;return function(){var u=qt(this,t),o=u.on,f=u.value[s]==null?l||(l=Pr(e)):void 0;(o!==n||i!==f)&&(r=(n=o).copy()).on(a,i=f),u.on=r}}function sl(t,e,n){var r=(t+="")=="transform"?oo:Lr;return e==null?this.styleTween(t,el(t,r)).on("end.style."+t,Pr(t)):typeof e=="function"?this.styleTween(t,rl(t,r,An(this,"style."+t,e))).each(il(this._id,t)):this.styleTween(t,nl(t,r,e),n).on("end.style."+t,null)}function al(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function ol(t,e,n){var r,i;function s(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&al(t,a,n)),r}return s._value=e,s}function ll(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,ol(t,e,n??""))}function ul(t){return function(){this.textContent=t}}function fl(t){return function(){var e=t(this);this.textContent=e??""}}function cl(t){return this.tween("text",typeof t=="function"?fl(An(this,"text",t)):ul(t==null?"":t+""))}function hl(t){return function(e){this.textContent=t.call(this,e)}}function dl(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&hl(i)),e}return r._value=t,r}function pl(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,dl(t))}function gl(){for(var t=this._name,e=this._id,n=Hr(),r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],l=a.length,u,o=0;o<l;++o)if(u=a[o]){var f=Dt(u,e);Xe(u,t,n,o,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Ut(r,this._parents,t,n)}function ml(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,a){var l={value:a},u={value:function(){--i===0&&s()}};n.each(function(){var o=qt(this,r),f=o.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(u)),o.on=e}),i===0&&s()})}var vl=0;function Ut(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Hr(){return++vl}var Gt=ye.prototype;Ut.prototype={constructor:Ut,select:Jo,selectAll:Zo,selectChild:Gt.selectChild,selectChildren:Gt.selectChildren,filter:Uo,merge:Xo,selection:tl,transition:gl,call:Gt.call,nodes:Gt.nodes,node:Gt.node,size:Gt.size,empty:Gt.empty,each:Gt.each,on:Wo,attr:No,attrTween:$o,style:sl,styleTween:ll,text:cl,textTween:pl,remove:Qo,tween:wo,delay:zo,duration:Po,ease:qo,easeVarying:Go,end:ml,[Symbol.iterator]:Gt[Symbol.iterator]};function _l(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var yl={time:null,delay:0,duration:250,ease:_l};function xl(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function wl(t){var e,n;t instanceof Ut?(e=t._id,t=t._name):(e=Hr(),(n=yl).time=bn(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],l=a.length,u,o=0;o<l;++o)(u=a[o])&&Xe(u,t,e,o,a,n||xl(u,e));return new Ut(r,this._parents,t,e)}ye.prototype.interrupt=_o;ye.prototype.transition=wl;function bl(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function qe(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ue(t){return t=qe(Math.abs(t)),t?t[1]:NaN}function kl(t,e){return function(n,r){for(var i=n.length,s=[],a=0,l=t[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),s.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=t[a=(a+1)%t.length];return s.reverse().join(e)}}function Al(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var El=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Be(t){if(!(e=El.exec(t)))throw new Error("invalid format: "+t);var e;return new En({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Be.prototype=En.prototype;function En(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}En.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ml(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var qr;function Sl(t,e){var n=qe(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(qr=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+qe(t,Math.max(0,e+s-1))[0]}function er(t,e){var n=qe(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const nr={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:bl,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>er(t*100,e),r:er,s:Sl,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function rr(t){return t}var ir=Array.prototype.map,sr=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function Nl(t){var e=t.grouping===void 0||t.thousands===void 0?rr:kl(ir.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?rr:Al(ir.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"â":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function o(d){d=Be(d);var p=d.fill,m=d.align,M=d.sign,Y=d.symbol,W=d.zero,F=d.width,H=d.comma,Z=d.precision,K=d.trim,G=d.type;G==="n"?(H=!0,G="g"):nr[G]||(Z===void 0&&(Z=12),K=!0,G="g"),(W||p==="0"&&m==="=")&&(W=!0,p="0",m="=");var lt=Y==="$"?n:Y==="#"&&/[boxX]/.test(G)?"0"+G.toLowerCase():"",L=Y==="$"?r:/[%p]/.test(G)?a:"",c=nr[G],h=/[defgprs%]/.test(G);Z=Z===void 0?6:/[gprs]/.test(G)?Math.max(1,Math.min(21,Z)):Math.max(0,Math.min(20,Z));function _(w){var k=lt,$=L,tt,_t,ft;if(G==="c")$=c(w)+$,w="";else{w=+w;var P=w<0||1/w<0;if(w=isNaN(w)?u:c(Math.abs(w),Z),K&&(w=Ml(w)),P&&+w==0&&M!=="+"&&(P=!1),k=(P?M==="("?M:l:M==="-"||M==="("?"":M)+k,$=(G==="s"?sr[8+qr/3]:"")+$+(P&&M==="("?")":""),h){for(tt=-1,_t=w.length;++tt<_t;)if(ft=w.charCodeAt(tt),48>ft||ft>57){$=(ft===46?i+w.slice(tt+1):w.slice(tt))+$,w=w.slice(0,tt);break}}}H&&!W&&(w=e(w,1/0));var j=k.length+w.length+$.length,C=j<F?new Array(F-j+1).join(p):"";switch(H&&W&&(w=e(C+w,C.length?F-$.length:1/0),C=""),m){case"<":w=k+w+$+C;break;case"=":w=k+C+w+$;break;case"^":w=C.slice(0,j=C.length>>1)+k+w+$+C.slice(j);break;default:w=C+k+w+$;break}return s(w)}return _.toString=function(){return d+""},_}function f(d,p){var m=o((d=Be(d),d.type="f",d)),M=Math.max(-8,Math.min(8,Math.floor(ue(p)/3)))*3,Y=Math.pow(10,-M),W=sr[8+M/3];return function(F){return m(Y*F)+W}}return{format:o,formatPrefix:f}}var Me,Mn,Br;Tl({thousands:",",grouping:[3],currency:["$",""]});function Tl(t){return Me=Nl(t),Mn=Me.format,Br=Me.formatPrefix,Me}function Il(t){return Math.max(0,-ue(Math.abs(t)))}function Cl(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ue(e)/3)))*3-ue(Math.abs(t)))}function Rl(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ue(e)-ue(t))+1}function $l(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Dl(t){return function(){return t}}function Ol(t){return+t}var ar=[0,1];function se(t){return t}function mn(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Dl(isNaN(e)?NaN:.5)}function zl(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Fl(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=mn(i,r),s=n(a,s)):(r=mn(r,i),s=n(s,a)),function(l){return s(r(l))}}function Ll(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=mn(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(l){var u=Hi(t,l,1,r)-1;return s[u](i[u](l))}}function Pl(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Hl(){var t=ar,e=ar,n=ee,r,i,s,a=se,l,u,o;function f(){var p=Math.min(t.length,e.length);return a!==se&&(a=zl(t[0],t[p-1])),l=p>2?Ll:Fl,u=o=null,d}function d(p){return p==null||isNaN(p=+p)?s:(u||(u=l(t.map(r),e,n)))(r(a(p)))}return d.invert=function(p){return a(i((o||(o=l(e,t.map(r),Rt)))(p)))},d.domain=function(p){return arguments.length?(t=Array.from(p,Ol),f()):t.slice()},d.range=function(p){return arguments.length?(e=Array.from(p),f()):e.slice()},d.rangeRound=function(p){return e=Array.from(p),n=io,f()},d.clamp=function(p){return arguments.length?(a=p?!0:se,f()):a!==se},d.interpolate=function(p){return arguments.length?(n=p,f()):n},d.unknown=function(p){return arguments.length?(s=p,d):s},function(p,m){return r=p,i=m,f()}}function ql(){return Hl()(se,se)}function Bl(t,e,n,r){var i=Xi(t,e,n),s;switch(r=Be(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=Cl(i,a))&&(r.precision=s),Br(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Rl(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Il(i))&&(r.precision=s-(r.type==="%")*2);break}}return Mn(r)}function Gl(t){var e=t.domain;return t.ticks=function(n){var r=e();return Ui(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Bl(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],l=r[s],u,o,f=10;for(l<a&&(o=a,a=l,l=o,o=i,i=s,s=o);f-- >0;){if(o=on(a,l,n),o===u)return r[i]=a,r[s]=l,e(r);if(o>0)a=Math.floor(a/o)*o,l=Math.ceil(l/o)*o;else if(o<0)a=Math.ceil(a*o)/o,l=Math.floor(l*o)/o;else break;u=o}return t},t}function vn(){var t=ql();return t.copy=function(){return Pl(t,vn())},$l.apply(t,arguments),Gl(t)}function ge(t,e,n){this.k=t,this.x=e,this.y=n}ge.prototype={constructor:ge,scale:function(t){return t===1?this:new ge(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new ge(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};ge.prototype;var Ul=Ht(`<style class="svelte-r8z2b2">body {
      margin: 0;
      padding: 0;
      font-family: nyt-franklin, helvetica, arial, sans-serif;
    }</style>`),Xl=Ht('<div class="loading svelte-r8z2b2"><div class="spinner svelte-r8z2b2"></div> <p class="svelte-r8z2b2">Loading data...</p></div>'),Yl=Ht('<div class="household-profile svelte-r8z2b2"><h3 class="svelte-r8z2b2">Individual household profile</h3> <div class="household-summary svelte-r8z2b2"><p class="svelte-r8z2b2"> </p></div> <div class="household-details svelte-r8z2b2"><div class="detail-item svelte-r8z2b2"><span class="label svelte-r8z2b2">Gross income:</span> <span class="value svelte-r8z2b2"> </span></div> <div class="detail-item svelte-r8z2b2"><span class="label svelte-r8z2b2">Net income change:</span> <span> </span></div> <div class="detail-item svelte-r8z2b2"><span class="label svelte-r8z2b2">Percentage change:</span> <span> </span></div></div></div>'),Kl=Ht('<section><div class="section-content svelte-r8z2b2"><h2 class="svelte-r8z2b2"> </h2> <p class="svelte-r8z2b2"><!></p> <!></div></section>'),Wl=Ht('<span class="svelte-r8z2b2"> </span>'),Vl=Ht('<span class="svelte-r8z2b2"> </span>'),Ql=Ht('<span class="svelte-r8z2b2"> </span>'),Jl=Ht('<tr class="svelte-r8z2b2"><td class="key-column svelte-r8z2b2"> </td><td class="value-column svelte-r8z2b2"><!></td></tr>'),Zl=Ht('<div class="data-table-container svelte-r8z2b2"><h3 class="svelte-r8z2b2">Selected Household Data</h3> <table class="data-table svelte-r8z2b2"><tbody class="svelte-r8z2b2"></tbody></table> <button class="close-table svelte-r8z2b2">Ã</button></div>'),jl=Ht('<div class="app svelte-r8z2b2"><!> <div class="nyt-container svelte-r8z2b2"><div class="text-column svelte-r8z2b2"></div> <div class="viz-column svelte-r8z2b2"><div class="viz-sticky svelte-r8z2b2"><canvas width="800" height="600" class="main-canvas svelte-r8z2b2"></canvas> <svg width="800" height="600" class="overlay-svg svelte-r8z2b2"></svg></div></div></div> <!></div>');function su(t,e){gi(e,!1);let n=It([]),r=It(!0),i=It(null),s=It(),a=It(),l=[],u=It({}),o=new Map;const f=[{id:"intro",title:"How tax changes affect every American household",groupText:"Each dot represents a household, positioned by their income and how much they gain or lose under the proposed tax changes. Green dots show households that benefit, red shows those that face increases.",view:{xDomain:[-15,15],yDomain:[0,35e4],filter:g=>g["Gross Income"]<35e4,highlightGroup:null}},{id:"middle-class",title:"Middle-class families see mixed results",groupText:"For families earning between $50,000 and $150,000 â the heart of America's middle class â the picture is complex. While some see modest gains, others face tax increases that could impact their family budgets.",view:{xDomain:[-10,20],yDomain:[5e4,15e4],filter:g=>g["Gross Income"]>=5e4&&g["Gross Income"]<15e4,highlightGroup:"middle"}},{id:"upper-middle",title:"Upper-middle class faces the biggest swings",groupText:"Households earning $150,000 to $400,000 experience the most dramatic variation in outcomes. This group includes many professionals, small business owners, and dual-income families in expensive areas.",view:{xDomain:[-25,25],yDomain:[15e4,4e5],filter:g=>g["Gross Income"]>=15e4&&g["Gross Income"]<4e5,highlightGroup:"upper-middle"}},{id:"high-earners",title:"High earners see significant increases",groupText:"The top 5% of earners â those making $400,000 to $1 million â face substantial tax increases under most scenarios. This group contributes a large share of total tax revenue.",view:{xDomain:[-40,40],yDomain:[4e5,1e6],filter:g=>g["Gross Income"]>=4e5&&g["Gross Income"]<1e6,highlightGroup:"high"}},{id:"ultra-wealthy",title:"The ultra-wealthy face the largest changes",groupText:"Millionaire households represent less than 1% of Americans but show the most extreme policy effects. Some face tax increases exceeding 50% of their current liability.",view:{xDomain:[-60,60],yDomain:[1e6,1e7],filter:g=>g["Gross Income"]>=1e6,highlightGroup:"ultra"}}],d=[];f.forEach((g,y)=>{d.push({...g,text:g.groupText,viewType:"group"}),y>0&&d.push({...g,id:g.id+"-individual",title:g.title+" â individual profile",text:"Meet a specific household affected by these changes.",viewType:"individual"})}),Tn(async()=>{try{const y=await(await fetch("/household_tax_income_changes_senate_current_law_baseline.csv")).text(),A=Oi.parse(y,{header:!0,dynamicTyping:!0,skipEmptyLines:!0});At(n,A.data.map((b,v)=>({...b,id:v,isAnnotated:!1,sectionIndex:null}))),f.forEach((b,v)=>{const T=x(n).filter(b.view.filter);if(T.length>0){const z=(b.view.yDomain[0]+b.view.yDomain[1])/2,I=(b.view.xDomain[0]+b.view.xDomain[1])/2;let S=null,E=1/0;if(T.forEach(D=>{const N=(D["Percentage Change in Net Income"]-I)/(b.view.xDomain[1]-b.view.xDomain[0]),O=(D["Gross Income"]-z)/(b.view.yDomain[1]-b.view.yDomain[0]),X=Math.sqrt(N*N+O*O);X<E&&(E=X,S=D)}),S&&(S.isHighlighted=!0,S.highlightGroup=b.view.highlightGroup,S.stateIndex=v),v>0){const D=Math.floor(Math.random()*T.length);Ve(u,x(u)[b.id]=T[D])}}}),At(r,!1)}catch(g){console.error("Error loading data:",g),At(r,!1)}});function p(g,y,A,b,v=800){o.has(g)&&clearInterval(o.get(g));const T=document.getElementById(g);if(!T)return;const z=performance.now();function I(E){const D=E-z,N=Math.min(D/v,1),O=1-Math.pow(1-N,3),X=y+(A-y)*O;if(T.textContent=b(X),N<1){const dt=requestAnimationFrame(I);o.set(g,dt)}else o.delete(g)}const S=requestAnimationFrame(I);o.set(g,S)}function m(g){return"$"+Math.round(g).toLocaleString()}function M(g){return(g>=0?"+":"")+g.toFixed(1)+"%"}function Y(g){return(g>=0?"+":"")+"$"+Math.abs(Math.round(g)).toLocaleString()}function W(g){if(!g)return"";const y=g["Gross Income"],A=g["Baseline Net Income"],b=g["Total Change in Net Income"],v=g["Percentage Change in Net Income"];g["Household Size"];const T=g["Is Married"],z=g["Number of Dependents"],I=g["Age of Head"],S=g.State,E=T?z>0?`married couple with ${z} dependent${z>1?"s":""}`:"married couple":z>0?`single parent with ${z} dependent${z>1?"s":""}`:"single person",D=y<5e4?"low-income":y<1e5?"middle-income":y<5e5?"upper-middle-income":"high-income",N=Math.abs(b)<100?"minimal":Math.abs(b)<1e3?"modest":Math.abs(b)<5e3?"significant":"substantial",O=b>0?"gains":"loses";return`This ${D} household is a ${E} living in ${S}. The head of household is ${I} years old. Under the baseline tax system, this household has a gross income of $${y.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})} and a net income of $${A.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}. After the proposed tax reforms, this household ${O} $${Math.abs(b).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})} annually, representing a ${N} ${Math.abs(v).toFixed(1)}% ${b>0?"increase":"decrease"} in their net income.`}let F=It([]),H=It(0),Z=0,K=It(!1),G;function lt(){G&&G.disconnect();const g=document.querySelector(".text-column");g&&(G=new IntersectionObserver(y=>{let A=null,b=0;y.forEach(v=>{const T=parseInt(v.target.dataset.index);v.isIntersecting&&v.intersectionRatio>b&&(b=v.intersectionRatio,A={entry:v,index:T})}),A&&A.index!==x(H)&&!x(K)&&L(A.index)},{root:g,threshold:[0,.1,.3,.5,.7,.9,1],rootMargin:"-30% 0px -30% 0px"}),x(F).forEach((y,A)=>{y&&(y.dataset.index=A.toString(),G.observe(y))}))}function L(g){var b,v,T;if(g===x(H)||x(K))return;At(K,!0),Z=x(H);const y=d[x(H)],A=d[g];if(A.viewType==="individual"){const z=(b=f[Math.floor(g/2)])==null?void 0:b.id,I=x(n).filter(((T=(v=f[Math.floor(g/2)])==null?void 0:v.view)==null?void 0:T.filter)||(()=>!0));if(I.length>0){const S=Math.floor(Math.random()*I.length);Ve(u,x(u)[z]=I[S]),At(u,{...x(u)})}}At(H,g),c({from:y.view,to:A.view,duration:1200,onComplete:()=>{At(K,!1)}})}function c({from:g,to:y,duration:A,onComplete:b}){const v=performance.now();function T(z){const I=z-v,S=Math.min(I/A,1),E=S<.5?4*S*S*S:1-Math.pow(-2*S+2,3)/2;h(g,y,E),S<1?requestAnimationFrame(T):b()}requestAnimationFrame(T)}function h(g=null,y=null,A=0){if(!x(n).length||!x(s))return;const b=x(s),v=b.getContext("2d",{alpha:!1}),T=window.devicePixelRatio||1,z=800,I=600;b.width=z*T,b.height=I*T,b.style.width=z+"px",b.style.height=I+"px",v.scale(T,T);const S=z,E=I,D={top:80,right:120,bottom:100,left:100};let N,O,X;x(K)&&g!==null&&y!==null?(N=g,O=y,X=A):(N=d[x(H)].view,O=N,X=0);const dt=ee(N.yDomain[0],O.yDomain[0])(X),V=ee(N.yDomain[1],O.yDomain[1])(X),xt=ee(N.xDomain[0],O.xDomain[0])(X),it=ee(N.xDomain[1],O.xDomain[1])(X);v.fillStyle="#ffffff",v.fillRect(0,0,S,E);let ot=x(n);x(K)&&g&&y?ot=x(n).filter(B=>{const J=g.filter?g.filter(B):!0,nt=y.filter?y.filter(B):!0;return J||nt}):ot=x(n).filter(B=>B["Gross Income"]>=0&&B["Gross Income"]<=15e6&&B["Percentage Change in Net Income"]>=-100&&B["Percentage Change in Net Income"]<=100);const Q=vn().domain([xt,it]).range([D.left,S-D.right]),st=vn().domain([dt,V]).range([E-D.bottom,D.top]);v.strokeStyle="#DFDFDF",v.lineWidth=.5,v.setLineDash([]);const mt=Math.max(5,Math.floor((it-xt)/10));for(let B=Math.ceil(xt/mt)*mt;B<=it;B+=mt){const J=Q(B);v.beginPath(),v.moveTo(J,D.top),v.lineTo(J,E-D.bottom),v.stroke()}if(st.ticks(6).forEach(B=>{const J=st(B);v.beginPath(),v.moveTo(D.left,J),v.lineTo(S-D.right,J),v.stroke()}),l=[],ot.forEach(B=>{var Sn,Nn;const J=Q(B["Percentage Change in Net Income"]),nt=st(B["Gross Income"]);if(J<D.left||J>S-D.right||nt<D.top||nt>E-D.bottom)return;let pt=1;if(x(K)&&g&&y&&X!==void 0){const zt=g.filter?g.filter(B):!0,Ft=y.filter?y.filter(B):!0;zt&&Ft?pt=1:zt&&!Ft?pt=1-X*X:!zt&&Ft?pt=X*(2-X):pt=0}else{const zt=N;pt=(zt.filter?zt.filter(B):!0)?1:0}let at;const vt=B["Percentage Change in Net Income"];Math.abs(vt)<.1?at="#999999":vt>0?at="#1a9658":at="#d75442";const St=d[x(H)],Ot=x(K)?d[Z]:St,Nt=B.isHighlighted&&B.stateIndex===Math.floor(x(H)/2);let wt=!1;if((St==null?void 0:St.viewType)==="individual"){const zt=(Sn=f[Math.floor(x(H)/2)])==null?void 0:Sn.id,Ft=x(u)[zt];wt=Ft&&B.id===Ft.id}if(x(K)&&(Ot==null?void 0:Ot.viewType)==="individual"){const zt=(Nn=f[Math.floor(Z/2)])==null?void 0:Nn.id,Ft=x(u)[zt];Ft&&(B.id,Ft.id)}const Bt=Nt||wt;let Xt=Bt?wt?6:4:2,we=Bt?1:.7;(St==null?void 0:St.viewType)==="individual"&&!wt&&(we*=.2);const Qt=we*pt;Qt>.02&&(l.push({x:J,y:nt,radius:Xt,data:B,opacity:Qt}),v.globalAlpha=Qt,v.fillStyle=at,v.beginPath(),v.arc(J,nt,Xt,0,2*Math.PI),v.fill(),(Bt&&Qt>.5||x(i)&&x(i).id===B.id)&&(v.globalAlpha=Qt,v.strokeStyle=x(i)&&x(i).id===B.id?"#0066cc":"#000000",v.lineWidth=x(i)&&x(i).id===B.id?2:1,v.stroke()))}),v.globalAlpha=1,xt<=0&&it>=0&&(v.strokeStyle="#000000",v.lineWidth=2,v.beginPath(),v.moveTo(Q(0),D.top),v.lineTo(Q(0),E-D.bottom),v.stroke()),x(a)){const B=Oa(x(a));B.selectAll("*").remove();const J=B.append("g"),nt=J.append("g").attr("transform",`translate(0,${E-D.bottom})`).call(Zi(Q).tickFormat(at=>`${at>0?"+":""}${at}%`)).style("font-family","Roboto Mono, monospace").style("font-size","10px").style("color","#121212");nt.selectAll("text").style("opacity",0).transition().delay((at,vt)=>vt*50).duration(400).style("opacity",1);const pt=J.append("g").attr("transform",`translate(${D.left},0)`).call(ji(st).ticks(6).tickFormat(at=>Mn("$,")(at))).style("font-family","Roboto Mono, monospace").style("font-size","10px").style("color","#121212");pt.selectAll("text").style("opacity",0).transition().delay((at,vt)=>vt*100).duration(500).style("opacity",1),nt.select(".domain").style("stroke","#000000").style("stroke-width",1),pt.select(".domain").style("stroke","#000000").style("stroke-width",1),nt.selectAll(".tick line").style("stroke","#000000").style("stroke-width",.5),pt.selectAll(".tick line").style("stroke","#000000").style("stroke-width",.5),J.append("text").attr("x",S/2).attr("y",E-15).attr("text-anchor","middle").style("font-family","Roboto Serif, serif").style("font-size","16px").style("font-weight","400").style("fill","#666666").text("Change in income â"),J.append("text").attr("transform","rotate(-90)").attr("x",-E/2).attr("y",25).attr("text-anchor","middle").style("font-family","Roboto Serif, serif").style("font-size","16px").style("font-weight","400").style("fill","#666666").text("â Annual household income")}}let _=It({}),w=It(null);Tn(()=>(At(F,new Array(d.length)),setTimeout(()=>{lt(),x(n).length&&x(s)&&h()},200),()=>{G&&G.disconnect()}));let k;function $(g){x(F).length&&(k&&clearTimeout(k),k=setTimeout(()=>{tt(g.target)},50))}function tt(g){if(x(K))return;const y=g.scrollTop,A=g.clientHeight,b=g.querySelectorAll(".text-section"),v=Array.from(b);let T=0,z=1/0;v.forEach((I,S)=>{if(I){const E=I.getBoundingClientRect(),D=g.getBoundingClientRect(),O=E.top-D.top+y+E.height/2,X=y+A/2,dt=Math.abs(O-X);dt<z&&(z=dt,T=S)}}),T!==x(H)&&z!==1/0&&L(T)}function _t(g){if(!x(s)||!l.length)return;const y=x(s).getBoundingClientRect(),A=g.clientX-y.left,b=g.clientY-y.top;let v=null,T=1/0;const z=8;for(const I of l){if(I.opacity<.1)continue;const S=A-I.x,E=b-I.y,D=Math.sqrt(S*S+E*E);D<=I.radius+z&&D<T&&(T=D,v=I)}v&&(At(i,v.data),x(K)||h())}be(()=>(x(n),x(s),x(K)),()=>{x(n).length&&x(s)&&!x(K)&&h()}),be(()=>(x(u),x(_)),()=>{typeof window<"u"&&(Object.keys(x(u)).forEach(g=>{const y=x(u)[g],A=x(_)[g];if(y&&A&&y.id!==A.id){const b=d.findIndex(v=>{var T;return v.viewType==="individual"&&((T=f[Math.floor(d.indexOf(v)/2)])==null?void 0:T.id)===g});b>=0&&(setTimeout(()=>{p(`gross-income-${b}`,A["Gross Income"],y["Gross Income"],m,600)},100),setTimeout(()=>{p(`net-change-${b}`,A["Total Change in Net Income"],y["Total Change in Net Income"],Y,600)},200),setTimeout(()=>{p(`percent-change-${b}`,A["Percentage Change in Net Income"],y["Percentage Change in Net Income"],M,600)},300))}}),At(_,{...x(u)}))}),be(()=>(x(i),x(w)),()=>{if(typeof window<"u"&&x(i)&&x(w)){let g=0;Object.entries(x(i)).forEach(([y,A])=>{if(y!=="id"&&y!=="isAnnotated"&&y!=="sectionIndex"&&y!=="isHighlighted"&&y!=="highlightGroup"&&y!=="stateIndex"){if(typeof A=="number"){const b=x(w)[y];typeof b=="number"&&b!==A&&setTimeout(()=>{y.includes("Income")||y.includes("Taxes")||y.includes("Net Income Change")?p(`table-value-${g}`,b,A,v=>"$"+Math.round(v).toLocaleString(),400):y.includes("Percentage")?p(`table-value-${g}`,b,A,v=>(v>0?"+":"")+v.toFixed(2)+"%",400):p(`table-value-${g}`,b,A,v=>Math.round(v).toLocaleString(),400)},g*50)}g++}})}At(w,x(i)?{...x(i)}:null)}),be(()=>x(F),()=>{x(F).length>0&&x(F).every(g=>g)&&setTimeout(()=>{lt()},50)}),mi(),Ur();var ft=jl();Xr(g=>{var y=Ul();_i.title="NYT-Style Scatterplot",kt(g,y)});var P=rt(ft);{var j=g=>{var y=Xl();kt(g,y)};Yt(P,g=>{x(r)&&g(j)})}var C=bt(P,2),ct=rt(C);Dn(ct,5,()=>d,$n,(g,y,A)=>{var b=Kl();let v;Zt(b,"data-index",A);var T=rt(b),z=rt(T),I=rt(z,!0);et(z);var S=bt(z,2),E=rt(S);Ei(E,()=>(x(y),yt(()=>x(y).text))),et(S);var D=bt(S,2);{var N=O=>{var X=Qe();const dt=Kt(()=>yt(()=>{var ot;return(ot=f[Math.floor(A/2)])==null?void 0:ot.id})),V=Kt(()=>(x(u),Jt(x(dt)),yt(()=>x(u)[x(dt)])));var xt=Je(X);{var it=ot=>{var Q=Yl(),st=bt(rt(Q),2),mt=rt(st),Mt=rt(mt,!0);et(mt),et(st);var B=bt(st,2),J=rt(B),nt=bt(rt(J),2);Zt(nt,"id",`gross-income-${A}`);var pt=rt(nt,!0);et(nt),et(J);var at=bt(J,2),vt=bt(rt(at),2);Zt(vt,"id",`net-change-${A}`);var St=rt(vt,!0);et(vt),et(at);var Ot=bt(at,2),Nt=bt(rt(Ot),2);Zt(Nt,"id",`percent-change-${A}`);var wt=rt(Nt,!0);et(Nt),et(Ot),et(B),et(Q),Wt((Bt,Xt,we,Qt)=>{Lt(Mt,Bt),Lt(pt,Xt),je(vt,1,`value ${Jt(x(V)),yt(()=>x(V)["Total Change in Net Income"]>0?"positive":"negative")??""}`,"svelte-r8z2b2"),Lt(St,we),je(Nt,1,`value ${Jt(x(V)),yt(()=>x(V)["Percentage Change in Net Income"]>0?"positive":"negative")??""}`,"svelte-r8z2b2"),Lt(wt,Qt)},[()=>(Jt(x(V)),yt(()=>W(x(V)))),()=>(Jt(x(V)),yt(()=>m(x(V)["Gross Income"]))),()=>(Jt(x(V)),yt(()=>Y(x(V)["Total Change in Net Income"]))),()=>(Jt(x(V)),yt(()=>M(x(V)["Percentage Change in Net Income"])))],Kt),kt(ot,Q)};Yt(xt,ot=>{x(V)&&ot(it)})}kt(O,X)};Yt(D,O=>{x(y),yt(()=>x(y).viewType==="individual")&&O(N)})}et(T),et(b),Ze(b,(O,X)=>Ve(F,x(F)[X]=O),O=>{var X;return(X=x(F))==null?void 0:X[O]},()=>[A]),Wt(O=>{v=je(b,1,"text-section svelte-r8z2b2",null,v,O),Lt(I,(x(y),yt(()=>x(y).title)))},[()=>({active:A===x(H)})],Kt),kt(g,b)}),et(ct);var q=bt(ct,2),U=rt(q),R=rt(U);Ze(R,g=>At(s,g),()=>x(s));var ht=bt(R,2);Ze(ht,g=>At(a,g),()=>x(a)),et(U),et(q),et(C);var ut=bt(C,2);{var gt=g=>{var y=Zl(),A=bt(rt(y),2),b=rt(A);Dn(b,5,()=>(x(i),yt(()=>Object.entries(x(i)))),$n,(T,z,I)=>{var S=yi(()=>xi(x(z),2));let E=()=>x(S)[0],D=()=>x(S)[1];var N=Qe(),O=Je(N);{var X=dt=>{var V=Jl(),xt=rt(V),it=rt(xt,!0);et(xt);var ot=bt(xt),Q=rt(ot);{var st=Mt=>{var B=Qe(),J=Je(B);{var nt=at=>{var vt=Wl();Zt(vt,"id",`table-value-${I}`);var St=rt(vt);et(vt),Wt(Ot=>Lt(St,`$${Ot??""}`),[()=>(D(),yt(()=>D().toLocaleString()))],Kt),kt(at,vt)},pt=(at,vt)=>{{var St=Nt=>{var wt=Vl();Zt(wt,"id",`table-value-${I}`);var Bt=rt(wt);et(wt),Wt(Xt=>Lt(Bt,`${D()>0?"+":""}${Xt??""}%`),[()=>(D(),yt(()=>D().toFixed(2)))],Kt),kt(Nt,wt)},Ot=Nt=>{var wt=Ql();Zt(wt,"id",`table-value-${I}`);var Bt=rt(wt,!0);et(wt),Wt(Xt=>Lt(Bt,Xt),[()=>(D(),yt(()=>D().toLocaleString()))],Kt),kt(Nt,wt)};Yt(at,Nt=>{E(),yt(()=>E().includes("Percentage"))?Nt(St):Nt(Ot,!1)},vt)}};Yt(J,at=>{E(),yt(()=>E().includes("Income")||E().includes("Taxes")||E().includes("Net Income Change"))?at(nt):at(pt,!1)})}kt(Mt,B)},mt=Mt=>{var B=wi();Wt(()=>Lt(B,D())),kt(Mt,B)};Yt(Q,Mt=>{typeof D()=="number"?Mt(st):Mt(mt,!1)})}et(ot),et(V),Wt(()=>Lt(it,E())),kt(dt,V)};Yt(O,dt=>{E()!=="id"&&E()!=="isAnnotated"&&E()!=="sectionIndex"&&E()!=="isHighlighted"&&E()!=="highlightGroup"&&E()!=="stateIndex"&&dt(X)})}kt(T,N)}),et(b),et(A);var v=bt(A,2);et(y),Ye("click",v,()=>At(i,null)),kt(g,y)};Yt(ut,g=>{x(i)&&g(gt)})}et(ft),Ye("scroll",ct,$),Ye("click",R,_t),kt(t,ft),vi()}export{su as component};
