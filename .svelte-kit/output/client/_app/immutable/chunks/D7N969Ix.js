import{b as H,h as e,d as L,E as O,r as Y,H as v,e as F,g as U,i as j,j as h,k as S,l as b,p as N,U as B,m as C,n as M,o as P,u as Z,q as w,S as z}from"./hF6vYYgm.js";function J(a,c,[r,s]=[0,0]){e&&r===0&&L();var i=a,f=null,l=null,n=B,k=r>0?O:0,u=!1;const q=(T,t=!0)=>{u=!0,A(t,T)},A=(T,t)=>{if(n===(n=T))return;let E=!1;if(e&&s!==-1){if(r===0){const I=Y(i);I===v?s=0:I===F?s=1/0:(s=parseInt(I.substring(1)),s!==s&&(s=n?1/0:-1))}const D=s>r;!!n===D&&(i=U(),j(i),h(!1),E=!0,s=-1)}n?(f?S(f):t&&(f=b(()=>t(i))),l&&N(l,()=>{l=null})):(l?S(l):t&&(l=b(()=>t(i,[r+1,s]))),f&&N(f,()=>{f=null})),E&&h(!0)};H(()=>{u=!1,c(q),u||A(null,null)},k),e&&(i=C)}function R(a,c){return a===c||(a==null?void 0:a[z])===c}function K(a={},c,r,s){return M(()=>{var i,f;return P(()=>{i=f,f=(s==null?void 0:s())||[],Z(()=>{a!==r(...f)&&(c(a,...f),i&&R(r(...i),a)&&c(null,...i))})}),()=>{w(()=>{f&&R(r(...f),a)&&c(null,...f)})}}),a}export{K as b,J as i};
